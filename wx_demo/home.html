<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>主页</title>
</head>

<body>
  <form>
    <input id="inputName" value="" />
    <input id="login" value="登陆" type="button">
  </form>
  <script>
    window.onload = function() {
      var button = document.getElementById("login")
      var xhr = new XMLHttpRequest()
      var handler = function(event) { //点击后获取input的值并发送
        var value = document.getElementById("inputName").value
        //                console.log(value)
        xhr.open('post', '/', true) //启动请求，url可以是相对于执行代码的当前页面
        xhr.send(value)
      }

      button.addEventListener('click', handler)

      xhr.onreadystatechange = function() {
        if (xhr.readyState == 4) { //已经接收全部响应数据
          if ((xhr.status >= 200 && xhr.status < 300) || xhr.status == 304) {
            console.log('-----请求并响应成功------')
            console.log(xhr.responseText)
            console.log('-----请求并响应成功------')
          } else {
            console.log("请求未成功： " + xhr.status)
          }
        }
      }

      xhr.onreadystatechange()
    }
  </script>
</body>

</html>